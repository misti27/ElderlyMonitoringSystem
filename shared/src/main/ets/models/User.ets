/**
 * å®šä¹‰æ¥å£ç”¨äºæ„é€ å‡½æ•°ä¼ å‚ï¼Œè§„é¿ Partial ä¸æ”¯æŒçš„é—®é¢˜
 */
export interface UserModel {
  id?: string;
  username?: string;
  name?: string;      // ğŸ‘ˆ è¡¥ä¸Šè¿™ä¸ªå±æ€§ï¼Œä¿®å¤ Device.ets çš„æŠ¥é”™
  phone?: string;
  role?: string;      // è§’è‰²ï¼š'elderly' | 'family'
  bindDeviceId?: string;
}

/**
 * ç”¨æˆ·æ•°æ®æ¨¡å‹
 */
export class User {
  id: string = '';
  username: string = '';
  name: string = '';  // ğŸ‘ˆ è¡¥ä¸Šè¿™ä¸ªå±æ€§
  phone: string = '';
  role: string = 'elderly';
  bindDeviceId: string = '';

  constructor(data?: UserModel) {
    if (data) {
      this.id = data.id ?? '';
      this.username = data.username ?? '';
      this.name = data.name ?? data.username ?? ''; // å¦‚æœä¼ äº†nameå°±ç”¨nameï¼Œå¦åˆ™é€€è€Œæ±‚å…¶æ¬¡ç”¨username
      this.phone = data.phone ?? '';
      this.role = data.role ?? 'elderly';
      this.bindDeviceId = data.bindDeviceId ?? '';
    }
  }
}

/**
 * ç™»å½•å“åº”æ•°æ®æ¥å£
 */
export interface LoginResponseModel {
  token?: string;
  user?: UserModel;
}

/**
 * ç™»å½•å“åº”æ•°æ®
 */
export class LoginResponse {
  token: string = '';
  user: User = new User();

  constructor(data?: LoginResponseModel) {
    if (data) {
      this.token = data.token ?? '';
      this.user = data.user ? new User(data.user) : new User();
    }
  }
}